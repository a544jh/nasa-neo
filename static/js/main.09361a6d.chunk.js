(this["webpackJsonpnasa-neo"]=this["webpackJsonpnasa-neo"]||[]).push([[0],{208:function(e,a,t){e.exports=t(360)},213:function(e,a,t){},214:function(e,a,t){},327:function(e,a,t){var n={"./bg-BG.json":328,"./ca-ES.json":329,"./cs-CZ.json":330,"./de-DE.json":331,"./en-US.json":171,"./es-ES.json":332,"./et-EE.json":333,"./fi-FI.json":334,"./fr-FR.json":335,"./he-IL.json":336,"./it-IT.json":337,"./ja-JP.json":338,"./nb-NO.json":339,"./pl-PL.json":340,"./pt-BR.json":341,"./ru-RU.json":342,"./sv-SE.json":343,"./tr-TR.json":344,"./zh-CN.json":345};function r(e){var a=c(e);return t(a)}function c(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=327},360:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(51),o=t.n(c),l=(t(213),t(44)),s=t(374),i=t(378),m=t(52),u=t(370),d=t(379),_=t(373),p=t(376),f=t(375),E=t(371),j=t(372),h=(t(214),t(215),t(128)),b=(t(346),t(127)),v=t.n(b),O=t(194),y=t(190),g=t(136),w=t(135),x={distance:function(e){return Number(e.close_approach_data[0].miss_distance.lunar)},diameter:function(e){return e.estimated_diameter.meters.estimated_diameter_max},name:function(e){return e.name},date:function(e){return null!==e.close_approach_data[0].epoch_date_close_approach?Number(e.close_approach_data[0].epoch_date_close_approach):Object(g.a)(e.close_approach_data[0].close_approach_date+"T00:00Z").getTime()}};function C(){return(C=Object(y.a)(v.a.mark((function e(a,t){var n,r,c,o,l,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(w.a)(a,{representation:"date"}),r=Object(w.a)(t,{representation:"date"}),c=window.localStorage.getItem("nasaApiKey"),o=null===c?"DEMO_KEY":c,l="https://api.nasa.gov/neo/rest/v1/feed?start_date=".concat(n,"&end_date=").concat(r,"&api_key=").concat(o),e.next=7,fetch(l);case 7:if(200===(s=e.sent).status){e.next=10;break}throw new Error("Failed to fetch NEOs");case 10:return e.next=12,s.json();case 12:return i=e.sent,e.abrupt("return",k(i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var a=[];for(var t in e.near_earth_objects){var n=e.near_earth_objects[t];a.push.apply(a,Object(O.a)(n))}return a}var S=t(137),B=t(134),D=t(22),N=t(42),T=t(74),F=t.n(T);var I=function(){var e=Object(n.useState)(!1),a=Object(l.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)([]),b=Object(l.a)(o,2),v=b[0],O=b[1],y=Object(n.useState)((function(){return Object(S.a)()})),g=Object(l.a)(y,2),w=g[0],k=g[1],T=Object(n.useState)((function(){return Object(B.a)(Object(S.a)(),{days:7})})),I=Object(l.a)(T,2),R=I[0],M=I[1],U=Object(D.a)(R,w),z=Object(n.useState)("date"),L=Object(l.a)(z,2),H=L[0],J=L[1],P=Object(n.useState)("ascending"),A=Object(l.a)(P,2),G=A[0],K=A[1],W=Object(n.useState)(!1),Z=Object(l.a)(W,2),Y=Z[0],$=Z[1];Object(n.useEffect)((function(){q(w,R,H,G)}),[]);var q=function(e,a,t,n){c(!0),function(e,a){return C.apply(this,arguments)}(e,a).then((function(e){O(F.a.orderBy(e,x[t],"ascending"===n?"asc":"desc")),c(!1),$(!1)})).catch((function(e){O([]),$(!0),c(!1)}))},Q=function(e){return r.a.createElement(s.a.HeaderCell,{sorted:e.column===H?G:void 0,onClick:function(){return function(e){var a;a=e===H&&"ascending"===G?"descending":"ascending",J(e),K(a),O(F.a.orderBy(v,x[e],"ascending"===a?"asc":"desc"))}(e.column)}},e.children)},V=F.a.maxBy(v,(function(e){return e.estimated_diameter.meters.estimated_diameter_max})),X=null===V||void 0===V?void 0:V.estimated_diameter.meters.estimated_diameter_max,ee=F.a.maxBy(v,(function(e){return e.close_approach_data[0].miss_distance.lunar})),ae=null===ee||void 0===ee?void 0:ee.close_approach_data[0].miss_distance.lunar,te=function(){var e;return e=U+1>1?"".concat(U+1," days"):"day",r.a.createElement(i.a,{compact:!0},r.a.createElement(i.a.Item,{onClick:function(){var e=Object(N.a)(w,{days:U+1});k(e);var a=Object(N.a)(R,{days:U+1});M(a),q(e,a,H,G)}},r.a.createElement(m.a,{name:"chevron left"}),"Previous ",e),r.a.createElement(i.a.Item,{onClick:function(){var e=Object(B.a)(w,{days:U+1});k(e);var a=Object(B.a)(R,{days:U+1});M(a),q(e,a,H,G)}},"Next ",e," ",r.a.createElement(m.a,{name:"chevron right"})))};return r.a.createElement(u.a,{style:{paddingTop:"1rem",paddingBottom:"1rem"}},r.a.createElement(d.a,{as:"h1"},"Near Earth Objects"),r.a.createElement(_.a,null,r.a.createElement(_.a.Group,{inline:!0},r.a.createElement(h.a,{label:"Start date",onChange:function(e,a){var t=a.value;t instanceof Date&&(k(t),M(Object(B.a)(t,{days:U})))},value:w}),r.a.createElement(h.a,{label:"End date",onChange:function(e,a){var t=a.value;t instanceof Date&&M(t)},value:R,filterDate:function(e){var a=Object(B.a)(w,{days:7});return e>=w&&e<=a}}),r.a.createElement(_.a.Button,{onClick:function(){return q(w,R,H,G)}},r.a.createElement(m.a,{name:"search"})," Search"))),r.a.createElement(te,null),Y?r.a.createElement(p.a,{error:!0},r.a.createElement(p.a.Header,null,"Oops, something went wrong!"),r.a.createElement("p",null,"Maybe you want to try again later")):null,r.a.createElement(f.a.Dimmable,{blurring:!0},r.a.createElement(f.a,{active:t,verticalAlign:"top"},r.a.createElement(E.a,null)),r.a.createElement(s.a,{celled:!0,sortable:!0,fixed:!0,style:{marginBottom:"1rem"}},r.a.createElement(s.a.Header,null,r.a.createElement(s.a.Row,null,r.a.createElement(Q,{column:"date"},"Date"),r.a.createElement(Q,{column:"date"},"Time (UTC)"),r.a.createElement(Q,{column:"name"},"Name"),r.a.createElement(Q,{column:"diameter"},"Diameter"),r.a.createElement(Q,{column:"distance"},"Miss Distance"))),r.a.createElement(s.a.Body,null,v.map((function(e){return r.a.createElement(s.a.Row,{key:e.id,negative:e.is_potentially_hazardous_asteroid},r.a.createElement(s.a.Cell,null,e.close_approach_data[0].close_approach_date),r.a.createElement(s.a.Cell,null,e.close_approach_data[0].close_approach_date_full),r.a.createElement(s.a.Cell,null,r.a.createElement("a",{href:e.nasa_jpl_url,target:"_blank",rel:"noreferrer noopener"},e.name)),r.a.createElement(s.a.Cell,null,e.estimated_diameter.meters.estimated_diameter_min.toFixed(1)," m - ",e.estimated_diameter.meters.estimated_diameter_max.toFixed(1)," m",r.a.createElement(j.a,{value:e.estimated_diameter.meters.estimated_diameter_max,total:X,size:"tiny",style:{margin:0}})),r.a.createElement(s.a.Cell,null,Number(e.close_approach_data[0].miss_distance.lunar).toFixed(2)," LD",r.a.createElement(j.a,{value:e.close_approach_data[0].miss_distance.lunar,total:ae,size:"tiny",style:{margin:0}})))}))))),r.a.createElement(te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.09361a6d.chunk.js.map